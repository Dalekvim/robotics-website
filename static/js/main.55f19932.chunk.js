(this["webpackJsonprobotics-website"]=this["webpackJsonprobotics-website"]||[]).push([[0],{131:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(9),c=n(0),i=n.n(c),s=n(55),o=n.n(s),l="",j=function(e){l=e},b=function(){return l},u=n(19),d=n(37),h=n(18),O=(n(119),n(16)),m=n(27),p=Object(c.createContext)({value:!1,setValue:"not set"}),x=n(17),f=n(57);function g(){var e=Object(x.a)(["\n  query {\n    members {\n      _id\n      firstName\n      lastName\n    }\n  }\n"]);return g=function(){return e},e}var v=Object(r.gql)(g()),y=function(e){var t=e._id,n=e.author,c=e.title,i=e.content,s=Object(r.useQuery)(v),o=s.loading,l=s.error,j=s.data,b=Object(h.f)();return o?Object(a.jsx)(a.Fragment,{children:"Loading..."}):l?Object(a.jsx)(a.Fragment,{children:l}):Object(a.jsxs)(f.a,{className:"mb-3",children:[Object(a.jsx)(f.a.Header,{as:"h5",children:j.members.map((function(e){return e._id===n._id?"By ".concat(e.firstName," ").concat(e.lastName):null}))}),Object(a.jsxs)(f.a.Body,{children:[Object(a.jsx)(f.a.Title,{children:c}),Object(a.jsx)(f.a.Text,{children:i}),Object(a.jsx)(m.a,{variant:"primary",onClick:function(){return b.push("/post/update/".concat(t))},children:"Edit"})]})]})};function w(){var e=Object(x.a)(["\n  query {\n    posts {\n      _id\n      title\n      author {\n        _id\n      }\n      content\n      createdAt\n      updatedAt\n    }\n  }\n"]);return w=function(){return e},e}var k=Object(r.gql)(w()),C=function(){var e=Object(r.useQuery)(k),t=e.loading,n=e.error,c=e.data;return t?Object(a.jsx)(a.Fragment,{children:"Loading..."}):n?Object(a.jsx)(a.Fragment,{children:n}):c?Object(a.jsx)(a.Fragment,{children:c.posts.slice().reverse().map((function(e){var t=e._id,n=e.author,r=e.title,c=e.content;return Object(a.jsx)(y,{_id:t,author:n,title:r,content:c},t)}))}):Object(a.jsx)(a.Fragment,{children:"Could not fetch posts."})},S=n(134),N=n(64),F=n(46),I=function(){var e=Object(c.useContext)(p).value;return Object(a.jsxs)(N.a,{bg:"light",expand:"lg",children:[Object(a.jsx)(d.b,{to:"/",replace:!0,children:Object(a.jsx)(N.a.Brand,{children:"Robotics Club"})}),Object(a.jsx)(N.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(a.jsxs)(N.a.Collapse,{id:"basic-navbar-nav",children:[Object(a.jsxs)(F.a,{className:"mr-auto",children:[Object(a.jsx)(F.a.Link,{as:d.b,to:"/about",replace:!0,children:"About"}),Object(a.jsx)(F.a.Link,{as:d.b,to:"/contact",replace:!0,children:"Contact Us"}),Object(a.jsx)(F.a.Link,{as:d.b,to:"/comment",replace:!0,children:"Comment"})]}),Object(a.jsx)(F.a,{children:e?Object(a.jsx)(F.a.Link,{as:d.b,to:"/profile",replace:!0,children:"Profile"}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(F.a.Link,{as:d.b,to:"/register",replace:!0,children:"Register"}),Object(a.jsx)(F.a.Link,{as:d.b,to:"/login",replace:!0,children:"Login"})]})})]})]})},P=function(e){var t=e.children;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(I,{}),Object(a.jsx)(S.a,{children:t})]})},q=function(e){var t=e.title,n=e.importance,r=e.children,c=Object(a.jsx)(a.Fragment,{});switch(n){case 1:c=Object(a.jsx)("h1",{children:t});break;case 2:c=Object(a.jsx)("h2",{children:t});break;case 3:c=Object(a.jsx)("h3",{children:t});break;case 4:c=Object(a.jsx)("h4",{children:t});break;case 5:c=Object(a.jsx)("h5",{children:t});break;case 6:c=Object(a.jsx)("h6",{children:t})}return Object(a.jsxs)(a.Fragment,{children:[c,r]})},T=function(e){var t=e.history,n=Object(c.useContext)(p).value;return Object(a.jsxs)(P,{children:[Object(a.jsx)(O.a,{variant:"danger",children:"There is no good way to say this, but the robotics club is currently very low on members."}),Object(a.jsxs)(q,{title:"The Robotics Club Website",importance:1,children:[Object(a.jsx)("p",{className:"lead",children:"Welcome to the brand new Robotics Club Website!"}),Object(a.jsxs)("div",{className:"text-justify",children:[Object(a.jsx)("p",{children:"There is no one in this club, other than Mahir of course, capable of talking to actual humans, but if there were, he (let's be honest, it's not going to be a she) would be actively be searching for new members:"}),Object(a.jsx)("p",{children:Object(a.jsx)("b",{children:"If you have nothing to do during Friday lunch, feel free to pop by!"})})]}),n?Object(a.jsx)("div",{style:{display:"flex"},children:Object(a.jsx)(m.a,{variant:"primary",onClick:function(){return t.push("/post/create")},style:{marginLeft:"auto"},children:"New Post"})}):null,Object(a.jsx)("hr",{}),Object(a.jsx)(C,{}),Object(a.jsx)("hr",{}),Object(a.jsx)(q,{title:"FAQs",importance:2,children:Object(a.jsx)(q,{title:"When and where is it?",importance:3,children:Object(a.jsxs)("p",{children:["The Robotics Club is on ",Object(a.jsx)("i",{children:"nearly"})," every friday in Mrs Nemaura's Room (C1.1), which is just down the corridor from the hub."]})})})]})]})},_=function(){return Object(a.jsx)(P,{children:Object(a.jsxs)(q,{title:"About this Website",importance:1,children:[Object(a.jsx)("div",{className:"Intro",children:Object(a.jsxs)("div",{className:"text-justify",children:[Object(a.jsx)("p",{children:"This website was made using the MERN stack; that's MongoDB, Express, React and Node.js. Just to be clear, I am by no means an expert on any of these and am seriously looking for help with the backend."}),Object(a.jsx)("p",{children:"So, if you happen to have some free time on your hands and want to contribute to the website, you can, but you have to join the robotics club."}),Object(a.jsx)(q,{title:"Minimum requirements for a Frontend Developer:",importance:4,children:Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:"Knows the basics of HTML"}),Object(a.jsx)("li",{children:"Knows/willing to learn React"})]})}),Object(a.jsx)(q,{title:"Minimum requirements for a Backend Developer:",importance:4,children:Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:"Knows basic Javascript, preferrably ES6"}),Object(a.jsx)("li",{children:"Knows/willing to learn Node.js"})]})})]})}),Object(a.jsx)(q,{title:"Details",importance:2,children:Object(a.jsxs)("div",{className:"text-justify",children:[Object(a.jsxs)(q,{title:"Typescript",importance:3,children:[Object(a.jsx)("p",{children:"Typescript is an extension of Javascript that allows for types. Any valid Javascript code is also Typescript code."}),Object(a.jsx)("p",{children:"If you have only programmed in Python so far, or if you have not programmed at all, you may wonder why I used Typescript."}),Object(a.jsx)("p",{children:"Are types that important?"}),Object(a.jsx)("p",{children:"The answer to that question is yes. Although I haven't actually used Vinalla Javascript enough to know how big the difference is, I can see how knowing the types of things, and when they don't match up, can save you tonnes of time."})]}),Object(a.jsxs)(q,{title:"Frontend",importance:3,children:[Object(a.jsx)("p",{children:"I just realised that most people don't really know what frontend actually is - I mean, even though I talk big, I didn't know, myself until I started making this."}),Object(a.jsx)("p",{children:Object(a.jsx)("b",{children:"Basically, frontend is the stuff you guys see on this page."})}),Object(a.jsx)("p",{children:"The Frontend of this website was made using React which is a Javascript library developed by Facebook."})]}),Object(a.jsxs)(q,{title:"Backend",importance:3,children:[Object(a.jsx)("p",{children:"I remember when I was first starting out trying to make an API, I had no idea what I was doing because no one really had a good definition of what an API was."}),Object(a.jsx)("p",{children:"I'll try to explain what it is, but don't worry if you don't get it right away."}),Object(a.jsx)("p",{children:Object(a.jsx)("b",{children:"Basically, it's a page, or a bunch of pages with JSON on it."})}),Object(a.jsxs)("p",{children:["The backend was created using Node.js and Express. Here is a link to the API I created:"," ",Object(a.jsx)("a",{href:"https://limitless-springs-67845.herokuapp.com",children:"limitless-springs"}),". It's a default name..."]})]}),Object(a.jsxs)(q,{title:"Database",importance:3,children:[Object(a.jsx)("p",{children:"I used the MongoDB database for this website, mostly because I wanted to try out the MERN Stack."}),Object(a.jsx)("p",{children:"The database is basically for storing data that you don't want to lose when the user refreshes their browser, like comments."})]})]})})]})})},$=n(22),L=n.n($),B=n(32),M=n(14),A=n(135),E=n(111),V=n(112),Q=n(136);function R(){var e=Object(x.a)(["\n  mutation($content: String!) {\n    createComment(content: $content) {\n      _id\n      content\n    }\n  }\n"]);return R=function(){return e},e}function G(){var e=Object(x.a)(["\n  query {\n    comments {\n      _id\n      content\n    }\n  }\n"]);return G=function(){return e},e}var J=Object(r.gql)(G()),D=Object(r.gql)(R()),U=function(){var e=Object(r.useQuery)(J),t=e.loading,n=e.error,i=e.data,s=Object(r.useMutation)(D),o=Object(u.a)(s,1)[0],l=Object(c.useState)(Object(a.jsx)(a.Fragment,{})),j=Object(u.a)(l,2),b=j[0],d=j[1];return Object(a.jsxs)(P,{children:[b,Object(a.jsxs)(q,{title:"The Comment Section",importance:1,children:[Object(a.jsx)(M.c,{initialValues:{content:""},onSubmit:function(){var e=Object(B.a)(L.a.mark((function e(t,n){var r,c,i;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.content,c=n.setSubmitting,i=n.resetForm,!r){e.next=11;break}return d(Object(a.jsx)(a.Fragment,{})),c(!0),e.next=7,o({variables:{content:r},refetchQueries:[{query:J}]});case 7:i(),c(!1),e.next=12;break;case 11:d(Object(a.jsx)(O.a,{variant:"warning",children:"You can't post an empty comment."}));case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),children:function(e){var t=e.isSubmitting;return Object(a.jsx)(M.b,{children:Object(a.jsxs)(A.a,{children:[Object(a.jsx)(A.a.Prepend,{children:Object(a.jsx)(m.a,{variant:"outline-secondary",type:"submit",disabled:t,children:"Post"})}),Object(a.jsx)(M.a,{placeholder:"Comment...",name:"content",type:"input",as:E.a})]})})}}),t?Object(a.jsx)(V.a,{animation:"border",role:"status",children:Object(a.jsx)("span",{className:"sr-only",children:"Loading..."})}):n?"Error! ".concat(n.message):i.comments.slice().reverse().map((function(e){var t=e._id,n=e.content;return Object(a.jsx)(Q.a.Item,{children:n},t)}))]})]})},Y=function(e){var t=e.name,n=e.email,r=e.children;return Object(a.jsx)(f.a,{children:Object(a.jsxs)(f.a.Body,{children:[Object(a.jsx)(f.a.Title,{children:t}),Object(a.jsx)(f.a.Subtitle,{children:n}),Object(a.jsx)(f.a.Text,{children:r})]})})};function W(){var e=Object(x.a)(["\n  query {\n    members {\n      _id\n      firstName\n      lastName\n      email\n      bio\n    }\n  }\n"]);return W=function(){return e},e}var H=Object(r.gql)(W()),K=function(){var e=Object(r.useQuery)(H),t=e.loading,n=e.error,c=e.data;return t?Object(a.jsx)(a.Fragment,{children:"Loading..."}):n?Object(a.jsx)(a.Fragment,{children:n}):Object(a.jsxs)(P,{children:[Object(a.jsx)("h1",{children:"Contact Us"}),Object(a.jsx)("div",{children:c.members.map((function(e){return Object(a.jsx)(Y,{name:"".concat(e.firstName," ").concat(e.lastName),email:e.email,children:e.bio},e._id)}))})]})},z=n(10);function X(){var e=Object(x.a)(["\n  mutation($title: String!, $content: String!) {\n    createPost(title: $title, content: $content)\n  }\n"]);return X=function(){return e},e}function Z(){var e=Object(x.a)(["\n  query {\n    posts {\n      _id\n      title\n      author {\n        _id\n      }\n      createdAt\n      updatedAt\n    }\n  }\n"]);return Z=function(){return e},e}var ee=Object(r.gql)(Z()),te=Object(r.gql)(X()),ne=function(e){var t=e.history,n=Object(r.useMutation)(te),i=Object(u.a)(n,1)[0],s=Object(c.useState)(Object(a.jsx)(a.Fragment,{})),o=Object(u.a)(s,2),l=o[0],b=o[1],d=Object(c.useContext)(p).setValue;return Object(a.jsxs)(P,{children:[l,Object(a.jsx)(q,{title:"Create Post",importance:1,children:Object(a.jsx)(M.c,{initialValues:{title:"",content:""},onSubmit:function(){var e=Object(B.a)(L.a.mark((function e(n,r){var c,s,o;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=n.title,s=n.content,o=r.setSubmitting,!c||!s){e.next=19;break}return b(Object(a.jsx)(a.Fragment,{})),o(!0),e.prev=5,e.next=8,i({variables:{title:c,content:s},refetchQueries:[{query:ee}]});case 8:t.push("/"),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(5),j(""),d(!1),b(Object(a.jsx)(O.a,{variant:"warning",children:"You are not authenticated."}));case 16:o(!1),e.next=20;break;case 19:b(Object(a.jsx)(O.a,{variant:"warning",children:"You can't post an empty comment."}));case 20:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(t,n){return e.apply(this,arguments)}}(),children:function(e){var t=e.values,n=e.isSubmitting,r=e.handleChange,c=e.handleBlur;return Object(a.jsxs)(M.b,{children:[Object(a.jsx)(z.a.Group,{children:Object(a.jsx)(M.a,{placeholder:"Title...",name:"title",type:"input",as:z.a.Control})}),Object(a.jsx)(z.a.Group,{controlId:"exampleForm.ControlTextarea1",children:Object(a.jsx)(z.a.Control,{name:"content",placeholder:"Content...",as:"textarea",rows:3,value:t.content,onChange:r,onBlur:c})}),Object(a.jsx)(m.a,{variant:"primary",type:"submit",disabled:n,children:"Post"})]})}})})]})},ae=function(){return Object(a.jsx)(P,{children:Object(a.jsx)(O.a,{variant:"warning",children:"404 page not found"})})};function re(){var e=Object(x.a)(["\n  mutation($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      accessToken\n    }\n  }\n"]);return re=function(){return e},e}var ce=Object(r.gql)(re()),ie=function(e){var t=e.history,n=Object(r.useMutation)(ce),i=Object(u.a)(n,1)[0],s=Object(c.useState)(Object(a.jsx)(a.Fragment,{})),o=Object(u.a)(s,2),l=o[0],b=o[1],d=Object(c.useContext)(p).setValue;return Object(a.jsxs)(P,{children:[l,Object(a.jsx)(q,{title:"Login Page",importance:1,children:Object(a.jsx)(M.c,{initialValues:{email:"",password:""},onSubmit:function(){var e=Object(B.a)(L.a.mark((function e(n,r){var c,s,o,l,u;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.email,s=n.password,(o=r.setSubmitting)(!0),e.prev=3,e.next=6,i({variables:{email:c,password:s}});case 6:l=e.sent,u=l.data,j(u.login.accessToken),d(!0),b(Object(a.jsx)(O.a,{variant:"success",children:"Logged in successfully."})),t.push("/profile"),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),b(Object(a.jsx)(O.a,{variant:"warning",children:e.t0.message}));case 17:o(!1);case 18:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t,n){return e.apply(this,arguments)}}(),children:function(e){var t=e.isSubmitting;return Object(a.jsxs)(M.b,{children:[Object(a.jsxs)(z.a.Group,{controlId:"formBasicEmail",children:[Object(a.jsx)(z.a.Label,{children:"Email address"}),Object(a.jsx)(M.a,{name:"email",type:"email",placeholder:"Enter email",as:z.a.Control})]}),Object(a.jsxs)(z.a.Group,{controlId:"formBasicPassword",children:[Object(a.jsx)(z.a.Label,{children:"Password"}),Object(a.jsx)(M.a,{name:"password",type:"password",placeholder:"Password",as:z.a.Control})]}),Object(a.jsx)(m.a,{variant:"primary",type:"submit",disabled:t,children:"Submit"})]})}})})]})},se=n(62),oe=n(113);function le(){var e=Object(x.a)(["\n  mutation(\n    $firstName: String!\n    $lastName: String!\n    $email: String!\n    $password: String!\n  ) {\n    register(\n      firstName: $firstName\n      lastName: $lastName\n      email: $email\n      password: $password\n    )\n  }\n"]);return le=function(){return e},e}var je=Object(r.gql)(le()),be=function(e){var t=e.history,n=Object(r.useMutation)(je),i=Object(u.a)(n,1)[0],s=Object(c.useState)(Object(a.jsx)(a.Fragment,{})),o=Object(u.a)(s,2),l=o[0],j=o[1];return Object(a.jsxs)(P,{children:[l,Object(a.jsx)(q,{title:"Register Page",importance:1,children:Object(a.jsx)(M.c,{initialValues:{firstName:"",lastName:"",email:"",password:"",confirmPassword:""},onSubmit:function(){var e=Object(B.a)(L.a.mark((function e(n,r){var c,s,o,l,b,u,d,h;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=n.firstName,s=n.lastName,o=n.email,l=n.password,b=n.confirmPassword,u=r.setSubmitting,d=!0,c&&s&&o&&l?l!==b?j(Object(a.jsx)(O.a,{variant:"warning",children:"Passwords do not match!"})):(j(Object(a.jsx)(a.Fragment,{})),d=!1):j(Object(a.jsx)(O.a,{variant:"warning",children:"Empty fields are not allowed."})),d){e.next=12;break}return u(!0),e.next=8,i({variables:{firstName:c,lastName:s,email:o,password:l}});case 8:h=e.sent,h.data.register?(j(Object(a.jsx)(O.a,{variant:"success",children:"Successfully created your account!"})),t.push("/login")):j(Object(a.jsx)(O.a,{variant:"warning",children:"That email is taken."})),u(!1);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),children:function(e){var t=e.isSubmitting;return Object(a.jsxs)(M.b,{children:[Object(a.jsxs)(z.a.Group,{children:[Object(a.jsx)(z.a.Label,{children:"Name"}),Object(a.jsxs)(oe.a,{children:[Object(a.jsx)(se.a,{children:Object(a.jsx)(M.a,{name:"firstName",type:"input",placeholder:"First name",as:z.a.Control})}),Object(a.jsx)(se.a,{children:Object(a.jsx)(M.a,{name:"lastName",type:"input",placeholder:"Last name",as:z.a.Control})})]})]}),Object(a.jsxs)(z.a.Group,{controlId:"formBasicEmail",children:[Object(a.jsx)(z.a.Label,{children:"Email address"}),Object(a.jsx)(M.a,{name:"email",type:"email",placeholder:"Enter email",as:z.a.Control})]}),Object(a.jsxs)(z.a.Group,{controlId:"formBasicPassword",children:[Object(a.jsx)(z.a.Label,{children:"Password"}),Object(a.jsx)(M.a,{name:"password",type:"password",placeholder:"Password",as:z.a.Control})]}),Object(a.jsxs)(z.a.Group,{controlId:"formBasicConfirmPassword",children:[Object(a.jsx)(z.a.Label,{children:"Confirm Password"}),Object(a.jsx)(M.a,{name:"confirmPassword",type:"password",placeholder:"Password",as:z.a.Control})]}),Object(a.jsx)(m.a,{variant:"primary",type:"submit",disabled:t,children:"Submit"})]})}})})]})};function ue(){var e=Object(x.a)(["\n  mutation($bio: String!) {\n    updateBio(bio: $bio)\n  }\n"]);return ue=function(){return e},e}function de(){var e=Object(x.a)(["\n  {\n    currentUser {\n      _id\n      email\n      firstName\n      lastName\n      bio\n    }\n  }\n"]);return de=function(){return e},e}var he=Object(r.gql)(de()),Oe=Object(r.gql)(ue()),me=function(){var e=Object(r.useQuery)(he),t=e.loading,n=e.error,i=e.data,s=Object(c.useState)(Object(a.jsx)(a.Fragment,{})),o=Object(u.a)(s,2),l=o[0],j=o[1],b=Object(r.useMutation)(Oe),d=Object(u.a)(b,1)[0],h=Object(c.useContext)(p).setValue;if(t||n)return Object(a.jsx)(P,{children:t?Object(a.jsx)(V.a,{animation:"border",role:"status",children:Object(a.jsx)("span",{className:"sr-only",children:"Loading..."})}):n?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(O.a,{variant:"warning",children:n.message}),h(!1)]}):null});var x=i.currentUser,f=x.firstName,g=x.lastName,v=x.bio;return Object(a.jsxs)(P,{children:[l,Object(a.jsx)(q,{title:"Profile Page",importance:1,children:Object(a.jsx)(q,{title:"You are ".concat(f," ").concat(g,"!"),importance:2,children:Object(a.jsx)(q,{title:"Bio",importance:3,children:Object(a.jsx)(M.c,{initialValues:{bio:v},onSubmit:function(){var e=Object(B.a)(L.a.mark((function e(t,n){var r,c,i;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.bio,(c=n.setSubmitting)(!0),e.prev=3,e.next=6,d({variables:{bio:r},refetchQueries:[{query:he}]});case 6:i=e.sent,i.data.updateBio?j(Object(a.jsx)(O.a,{variant:"success",children:"Your bio was updated!"})):j(Object(a.jsx)(O.a,{variant:"danger",children:"That did not work!"})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),j(Object(a.jsx)(O.a,{variant:"warning",children:e.t0.message})),h(!1);case 15:c(!1);case 16:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t,n){return e.apply(this,arguments)}}(),children:function(e){var t=e.values,n=e.isSubmitting,r=e.handleChange,c=e.handleBlur;return Object(a.jsxs)(M.b,{children:[Object(a.jsx)(z.a.Group,{controlId:"exampleForm.ControlTextarea1",children:Object(a.jsx)(z.a.Control,{name:"bio",placeholder:"About me...",as:"textarea",rows:3,value:t.bio,onChange:r,onBlur:c})}),Object(a.jsx)(m.a,{variant:"primary",type:"submit",disabled:n,children:"Update"})]})}})})})})]})};function pe(){var e=Object(x.a)(["\n  mutation($_id: String!) {\n    deletePost(_id: $_id)\n  }\n"]);return pe=function(){return e},e}function xe(){var e=Object(x.a)(["\n  mutation($_id: String!, $title: String!, $content: String!) {\n    updatePost(_id: $_id, title: $title, content: $content)\n  }\n"]);return xe=function(){return e},e}function fe(){var e=Object(x.a)(["\n  query {\n    posts {\n      _id\n      title\n      author {\n        _id\n      }\n      content\n    }\n  }\n"]);return fe=function(){return e},e}var ge=Object(r.gql)(fe()),ve=Object(r.gql)(xe()),ye=Object(r.gql)(pe()),we=function(){var e=Object(r.useMutation)(ve),t=Object(u.a)(e,1)[0],n=Object(c.useState)(Object(a.jsx)(a.Fragment,{})),i=Object(u.a)(n,2),s=i[0],o=i[1],l=Object(c.useContext)(p).setValue,b=Object(r.useQuery)(ge),d=b.loading,x=b.error,f=b.data,g=Object(h.f)(),v=Object(h.g)()._id,y=Object(r.useMutation)(ye),w=Object(u.a)(y,1)[0];if(d)return Object(a.jsx)(a.Fragment,{children:"Loading..."});if(x)return Object(a.jsx)(a.Fragment,{children:x});var k=f.posts.reduce((function(e,t){return t._id===v?t:e}),{title:"",content:""});return Object(a.jsxs)(P,{children:[s,Object(a.jsx)(q,{title:"Update Post",importance:1,children:Object(a.jsx)(M.c,{initialValues:{title:k.title,content:k.content},onSubmit:function(){var e=Object(B.a)(L.a.mark((function e(n,r){var c,i,s;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=n.title,i=n.content,s=r.setSubmitting,!c||!i){e.next=19;break}return o(Object(a.jsx)(a.Fragment,{})),s(!0),e.prev=5,e.next=8,t({variables:{_id:v,title:c,content:i},refetchQueries:[{query:ge}]});case 8:g.push("/"),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(5),j(""),l(!1),o(Object(a.jsx)(O.a,{variant:"warning",children:"You are not authenticated."}));case 16:s(!1),e.next=20;break;case 19:o(Object(a.jsx)(O.a,{variant:"warning",children:"You can't post an empty comment."}));case 20:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(t,n){return e.apply(this,arguments)}}(),children:function(e){var t=e.values,n=e.isSubmitting,r=e.handleChange,c=e.handleBlur;return Object(a.jsxs)(M.b,{children:[Object(a.jsx)(z.a.Group,{children:Object(a.jsx)(M.a,{placeholder:"Title...",name:"title",type:"input",as:z.a.Control})}),Object(a.jsx)(z.a.Group,{controlId:"exampleForm.ControlTextarea1",children:Object(a.jsx)(z.a.Control,{name:"content",placeholder:"Content...",as:"textarea",rows:3,value:t.content,onChange:r,onBlur:c})}),Object(a.jsx)(m.a,{variant:"primary",type:"submit",disabled:n,children:"Update"}),Object(a.jsx)(m.a,{className:"float-right",variant:"danger",onClick:Object(B.a)(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w({variables:{_id:v},refetchQueries:[{query:ge}]});case 3:g.push("/"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),o(Object(a.jsx)(O.a,{variant:"warning",children:e.t0.message}));case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),children:"Delete"})]})}})})]})},ke=function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),n=t[0],r=t[1];return Object(a.jsx)(d.a,{basename:"/",children:Object(a.jsxs)(h.c,{children:[Object(a.jsxs)(p.Provider,{value:{value:n,setValue:r},children:[Object(a.jsx)(h.a,{exact:!0,path:"/",component:T}),Object(a.jsx)(h.a,{path:"/about",component:_}),Object(a.jsx)(h.a,{path:"/comment",component:U}),Object(a.jsx)(h.a,{path:"/contact",component:K}),Object(a.jsx)(h.a,{path:"/post/create",component:ne}),Object(a.jsx)(h.a,{path:"/post/update/:_id",component:we}),Object(a.jsx)(h.a,{path:"/profile",component:me}),Object(a.jsx)(h.a,{path:"/register",component:be}),Object(a.jsx)(h.a,{path:"/login",component:ie})]}),Object(a.jsx)(h.a,{path:"/",component:ae})]})})},Ce=new r.HttpLink({uri:"https://limitless-springs-67845.herokuapp.com/graphql"}),Se=new r.ApolloLink((function(e,t){return e.setContext({headers:{authorization:b()?"bearer ".concat(b()):""}}),t(e)})),Ne=new r.ApolloClient({cache:new r.InMemoryCache,link:Object(r.concat)(Se,Ce)});o.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(r.ApolloProvider,{client:Ne,children:Object(a.jsx)(ke,{})})}),document.getElementById("root"))}},[[131,1,2]]]);
//# sourceMappingURL=main.55f19932.chunk.js.map